<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>高校数学とJulia言語 Day 3</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 18px;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .slide {
            background: white;
            margin: 30px 0;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            page-break-after: always;
        }
        
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #f39c12;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 2.2em;
        }
        
        h2 {
            color: #34495e;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.8em;
        }
        
        h3 {
            color: #34495e;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.4em;
        }
        
        .highlight {
            background-color: #fff3cd;
            padding: 15px;
            border-left: 4px solid #ffc107;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
            white-space: pre-line;
        }
        
        .math {
            font-size: 1.2em;
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background: #f0f8ff;
            border-radius: 5px;
        }
        
        .success {
            background-color: #d4edda;
            padding: 15px;
            border-left: 4px solid #28a745;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            border: 1px solid #dee2e6;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #e9ecef;
            font-weight: bold;
        }
        
        ul, ol {
            margin-left: 30px;
            margin-bottom: 15px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        .navigation {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #3498db;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        
        .navigation:hover {
            background: #2980b9;
            text-decoration: none;
            color: white;
        }
        
        @media print {
            .navigation {
                display: none;
            }
            .slide {
                margin: 0;
                box-shadow: none;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            .slide {
                padding: 20px;
            }
            h1 {
                font-size: 1.8em;
            }
            h2 {
                font-size: 1.5em;
            }
            .comparison {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="navigation">← メニューに戻る</a>
    
    <div class="container">
        <div class="slide">
            <h1>高校数学とJulia言語 Day 3</h1>
            <p><strong>関数の最大・最小を求めよう！</strong></p>
            <p>城北中学校・高等学校　中学3年・高校1年<br>
            夏期講習会III 2025/8/24～2025/8/28<br>
            担当：清水団</p>
        </div>

        <div class="slide">
            <h2>📅 5日間の学習予定</h2>
            <ul>
                <li><strong>Day 1</strong>：Google Colabの紹介・基本計算 ✅</li>
                <li><strong>Day 2</strong>：関数のグラフの描画 ✅</li>
                <li><strong>Day 3</strong>：最適化（最大・最小） ← 今日はここ！</li>
                <li><strong>Day 4</strong>：データの分析</li>
                <li><strong>Day 5</strong>：確率・シミュレーション</li>
            </ul>
            <div class="highlight">
                今日のゴール：グラフを見て最大・最小を見つけ、数値的に求められるようになろう！
            </div>
        </div>

        <div class="slide">
            <h2>🎯 最大・最小を求める意味</h2>
            <p><strong>数学だけでなく、実生活でも重要！</strong></p>
            
            <h3>実生活での応用例</h3>
            <ul>
                <li>📈 <strong>経済学</strong>：利益を最大化、費用を最小化</li>
                <li>🏗️ <strong>工学</strong>：材料を最小限で最大の強度を得る</li>
                <li>⚽ <strong>スポーツ</strong>：最高記録を出すための軌道</li>
                <li>⏰ <strong>日常生活</strong>：時間や労力を最小にして最大の効果を得る</li>
            </ul>

            <div class="success">
                グラフを描いて視覚的に理解し、その後数値的に正確な値を求める方法を学びます！
            </div>
        </div>

        <div class="slide">
            <h2>🔧 今日使うツール</h2>
            <p><strong>昨日と同じツールを使います</strong></p>
            
            <div class="code-block">
# パッケージの読み込み
using Plots

# フォント設定（日本語ラベルのため）
gr(fontfamily="ipam")
            </div>

            <p><strong>準備完了！さっそく最適化問題に挑戦しましょう</strong></p>
        </div>

        <div class="slide">
            <h2>📊 基本的な最適化：2次関数</h2>
            
            <h3>問題1：f(x) = -x² + 4x + 1 の最大値を求める</h3>
            <p><strong>Step 1: まずグラフで全体像を把握</strong></p>
            
            <div class="code-block">
# 関数を定義
f(x) = -x^2 + 4x + 1

# グラフを描画
plot(f, lw=3, color=:blue, label="f(x) = -x² + 4x + 1")
            </div>

            <p><strong>グラフから最大値の位置を予想してみましょう！</strong></p>
        </div>

        <div class="slide">
            <h2>🔍 数値的に最大値を探す</h2>
            <p><strong>Step 2: 予想した範囲を詳しく調べる</strong></p>
            
            <div class="code-block">
# x = 2 付近を詳しく調べる
X = 1.5:0.01:2.5    # x = 1.5 から 2.5 まで 0.01 刻み
Y = f.(X)           # 各x値での関数値を計算

# 最大値とその位置を見つける
y_max = maximum(Y)
x_max = X[argmax(Y)]

println("x = $x_max のとき，最大値 y = $y_max")
            </div>

            <div class="success">
                数値計算で正確な値が求まります！
            </div>
        </div>

        <div class="slide">
            <h2>📈 グラフに最大値をプロット</h2>
            <p><strong>Step 3: 結果を視覚化</strong></p>
            
            <div class="code-block">
# グラフに最大値の点を追加
plot(f, lw=3, label="f(x) = -x² + 4x + 1", color=:blue)
scatter!([x_max], [y_max], ms=8, color=:red, 
         label="最大値 ($x_max, $y_max)")
            </div>

            <h3>理論的解法との比較</h3>
            <div class="math">
                平方完成：f(x) = -(x-2)² + 5<br>
                ∴ max f(x) = f(2) = 5
            </div>

            <p><strong>数値解と理論解が一致！</strong></p>
        </div>

        <div class="slide">
            <h2>📉 制約付き最適化：3次関数</h2>
            
            <h3>問題2：g(x) = x³ - 6x² + 9x + 2 の区間 [-1, 3] での最大・最小</h3>
            <p><strong>3次関数では極大値・極小値が複数存在することがあります</strong></p>
            
            <div class="code-block">
# 関数を定義
g(x) = x^3 - 6x^2 + 9x + 2

# 広い範囲でグラフを描いて全体像を把握
plot(g, -2:0.1:4, lw=3, color=:green)

# 制約区間 [-1, 3] を表示
vline!([-1, 3], color=:red, lw=2, alpha=0.7)
            </div>
        </div>

        <div class="slide">
            <h2>🎯 制約区間での数値探索</h2>
            <p><strong>指定された区間内だけで探索</strong></p>
            
            <div class="code-block">
# 区間 [-1, 3] での数値的探索
X = -1:0.01:3
Y = g.(X)

# 最大値と最小値を見つける
y_max = maximum(Y)
y_min = minimum(Y)
x_max = X[argmax(Y)]
x_min = X[argmin(Y)]

println("最大値: ", y_max, " (x = ", x_max, ")")
println("最小値: ", y_min, " (x = ", x_min, ")")
            </div>

            <p><strong>制約条件がある場合は端点も要チェック！</strong></p>
        </div>

        <div class="slide">
            <h2>🌊 三角関数の最適化</h2>
            
            <h3>問題3：h(x) = 2sin(x) + cos(2x) の区間 [0, 2π] での最大・最小</h3>
            <p><strong>周期的な関数では複雑なパターンが現れます</strong></p>
            
            <div class="code-block">
# 関数を定義
h(x) = 2sin(x) + cos(2x)

# グラフを描いて周期的パターンを観察
plot(h, 0:0.01:2π, lw=3, color=:purple)

# x軸の目盛りをπ単位で表示
xticks!([0, π/2, π, 3π/2, 2π], 
        ["0", "π/2", "π", "3π/2", "2π"])
            </div>
        </div>

        <div class="slide">
            <h2>📊 三角関数の数値解析</h2>
            <p><strong>より細かく刻んで精密に探索</strong></p>
            
            <div class="code-block">
# 区間 [0, 2π] での数値的探索
X = 0:0.001:2π  # より細かく刻んで探索
Y = h.(X)

y_max = maximum(Y)
y_min = minimum(Y)
x_max = X[argmax(Y)]
x_min = X[argmin(Y)]

# π単位での表示
println("最大値の位置: x ≈ ", round(x_max/π, digits=3), "π")
println("最小値の位置: x ≈ ", round(x_min/π, digits=3), "π")
            </div>

            <p><strong>複雑な関数でも数値的手法で解けます！</strong></p>
        </div>

        <div class="slide">
            <h2>⚖️ 手法の比較</h2>
            
            <div class="comparison">
                <div>
                    <h3>数値的手法（今日の方法）</h3>
                    <p><strong>メリット：</strong></p>
                    <ul>
                        <li>✅ 複雑な関数でも適用可能</li>
                        <li>✅ グラフで視覚的に理解</li>
                        <li>✅ プログラムで自動化</li>
                        <li>✅ 制約条件を簡単に扱える</li>
                    </ul>
                    <p><strong>デメリット：</strong></p>
                    <ul>
                        <li>❌ 近似解しか得られない</li>
                        <li>❌ 計算時間がかかる場合</li>
                        <li>❌ 局所最適解を見落とす可能性</li>
                    </ul>
                </div>
                <div>
                    <h3>理論的手法（微分使用）</h3>
                    <p><strong>メリット：</strong></p>
                    <ul>
                        <li>✅ 厳密解が得られる</li>
                        <li>✅ 計算が高速</li>
                        <li>✅ 数学的に美しい</li>
                    </ul>
                    <p><strong>デメリット：</strong></p>
                    <ul>
                        <li>❌ 微分可能な関数に限定</li>
                        <li>❌ 複雑な関数では計算困難</li>
                        <li>❌ 制約条件の扱いが複雑</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="slide">
            <h2>🔄 数値的最適化の手順</h2>
            
            <h3>標準的なアプローチ</h3>
            <div class="success">
                <ol>
                    <li><strong>グラフの描画</strong>：関数の全体像を把握</li>
                    <li><strong>視覚的予想</strong>：最大・最小の位置を大まかに特定</li>
                    <li><strong>詳細探索</strong>：予想した範囲を細かく刻んで数値計算</li>
                    <li><strong>結果の検証</strong>：理論値や他の方法と比較</li>
                </ol>
            </div>

            <h3>重要なポイント</h3>
            <ul>
                <li><strong>定義域の確認</strong>：制約条件を常に意識</li>
                <li><strong>端点のチェック</strong>：境界での値も忘れずに確認</li>
                <li><strong>グラフの活用</strong>：視覚的理解が問題解決の鍵</li>
            </ul>
        </div>

        <div class="slide">
            <h2>📝 実習：最適化を体験しよう</h2>
            <p><strong>実際にGoogle Colabで以下を試してみましょう</strong></p>
            
            <ol>
                <li><strong>2次関数の最適化</strong>：グラフ→予想→数値探索</li>
                <li><strong>制約付き問題</strong>：区間を限定した最適化</li>
                <li><strong>複雑な関数</strong>：三角関数や合成関数の最適化</li>
                <li><strong>結果の可視化</strong>：最適点をグラフにプロット</li>
            </ol>

            <div class="highlight">
                手を動かして体験することが一番の学習です！
            </div>
        </div>

        <div class="slide">
            <h2>📚 本日の演習問題</h2>
            
            <h3>問題1: 2次関数の最小値</h3>
            <p>f(x) = 2x² - 8x + 11 の最小値とそのときのxの値を求める</p>

            <h3>問題2: 3次関数の制約付き最適化</h3>
            <p>g(x) = x³ - 3x² + 2 の区間[-1, 3]での最大値・最小値を求める</p>

            <h3>問題3: 応用問題</h3>
            <p>h(x) = √(x²+1) + √(x²-2x+5) の最小値を求める</p>

            <div class="success">
                各問題で：グラフ描画 → 数値探索 → 結果の可視化 → 考察
            </div>
        </div>

        <div class="slide">
            <h2>🎯 演習問題を解いてみよう！</h2>
            <p><strong>Google Colabを開いて、実際にコードを書いてみましょう</strong></p>
            
            <h3>取り組み方</h3>
            <ol>
                <li><strong>関数を定義</strong>してグラフを描く</li>
                <li><strong>視覚的に予想</strong>する</li>
                <li><strong>数値的に探索</strong>する</li>
                <li><strong>結果を文章で出力</strong>する</li>
                <li><strong>グラフに最適点をプロット</strong>する</li>
                <li><strong>理論的解法と比較</strong>する（可能であれば）</li>
            </ol>

            <div class="highlight">
                エラーを恐れずに、いろいろ試してみましょう！
            </div>
        </div>

        <div class="slide">
            <h2>🌟 今日のまとめ</h2>
            
            <h3>学んだ数値的最適化の手順</h3>
            <ol>
                <li><strong>グラフ描画</strong>：関数の全体像を把握</li>
                <li><strong>視覚的予想</strong>：最大・最小の位置を特定</li>
                <li><strong>詳細探索</strong>：数値計算で正確な値を求める</li>
                <li><strong>結果検証</strong>：理論値との比較</li>
            </ol>

            <h3>扱った関数の種類</h3>
            <ul>
                <li><strong>2次関数</strong>：頂点での最大・最小</li>
                <li><strong>3次関数</strong>：極値と制約条件</li>
                <li><strong>三角関数</strong>：周期的な最大・最小</li>
            </ul>

            <h3>重要なスキル</h3>
            <p>✅ グラフを描いて問題を理解する能力<br>
            ✅ 数値的手法で複雑な問題を解く技術<br>
            ✅ 制約条件を適切に扱う方法</p>
        </div>

        <div class="slide">
            <h2>🔮 次回予告：Day 4</h2>
            <p><strong>データの分析</strong></p>
            
            <ul>
                <li>実際のデータを使った統計分析</li>
                <li>平均・分散・相関などの統計量の計算</li>
                <li>データの可視化とパターンの発見</li>
                <li>Juliaでのデータ処理技術</li>
            </ul>

            <div class="highlight">
                今まで学んだグラフ描画技術を使って、データの特徴を視覚的に分析します！
            </div>

            <h3>宿題</h3>
            <p>今日の演習問題を完成させて、Google Classroomに提出してください。</p>
        </div>

        <div class="slide">
            <h2>💡 発展的な内容（時間がある人へ）</h2>
            
            <h3>より高度な最適化問題</h3>
            <div class="code-block">
# 多変数関数の最適化（等高線プロット）
f(x, y) = x^2 + y^2 - 2x - 4y + 5
x = -1:0.1:3
y = -1:0.1:5
contour(x, y, f, levels=20)

# 条件付き最適化
# 制約: x^2 + y^2 ≤ 1 の下で f(x,y) を最小化
            </div>

            <p><strong>より複雑な問題にも挑戦できます！</strong></p>
        </div>

        <div class="slide">
            <h2>❓ 質問タイム</h2>
            <p><strong>何か分からないことはありませんか？</strong></p>
            
            <ul>
                <li>最適化の手法について</li>
                <li>グラフの読み取り方</li>
                <li>数値計算の精度</li>
                <li>演習問題について</li>
                <li>その他、何でも！</li>
            </ul>

            <div class="highlight">
                最適化は実用性の高い分野です。疑問があれば積極的に質問しましょう！
            </div>

            <p><strong>お疲れさまでした！</strong></p>
        </div>
    </div>
</body>
</html>